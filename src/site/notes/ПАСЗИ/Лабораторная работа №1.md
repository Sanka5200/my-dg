---
{"dg-publish":true,"permalink":"/paszi/laboratornaya-rabota-1/","noteIcon":""}
---

# Linux permissions

---

**ФИО:** 2022-ФГиИБ-ИБ-1б Кубицкий Александр Андреевич

---
### 1. Создание пользователей

Создание пользователей user1, user2, user3 и паролей для них
![Pasted image 20250217121105.png](/img/user/Images/Pasted%20image%2020250217121105.png)

Проверка, что пользователи и домашние директории были созданы. Проверка групп, которым принадлежат пользователи.
![Pasted image 20250217121638.png](/img/user/Images/Pasted%20image%2020250217121638.png)
 Цифры, 1000, 1001, 1002, 1003 после x обозначают уникальный идентификатор и идентификатор группы "UID" и "GID".

![Pasted image 20250217122708.png](/img/user/Images/Pasted%20image%2020250217122708.png)
Алгоритм хеширования - sha512crypt

Создание группы doubla и добавление пользователей в группу
![Pasted image 20250217123105.png](/img/user/Images/Pasted%20image%2020250217123105.png)

Проверяем, каким группам принадлежат пользователи
![Pasted image 20250217125227.png](/img/user/Images/Pasted%20image%2020250217125227.png)

Проверяем, каким группам принадлежат пользователи (тоже)
![Pasted image 20250217125306.png](/img/user/Images/Pasted%20image%2020250217125306.png)

### 2. Разрешения
Смотрим разрешения на чтение ***file1*** текущим ***user1***, предварительно создав его
![Pasted image 20250217131446.png](/img/user/Images/Pasted%20image%2020250217131446.png)

Отбираем права на чтения файла ***file1*** ***user1*** у пользователей вне группы ***double***, в которой состоит ***user1*** (поэксперементировал)
![Pasted image 20250217132427.png](/img/user/Images/Pasted%20image%2020250217132427.png)

Даём всем пользователям вне группы ***double*** права на чтение и запись. Можно давать 1+ права одновременно, Alpine позволяет так делать. Также отбираем права на чтение и запись у пользователей группы ***double***. Проверяем права от лица ***user1***
![Pasted image 20250217132655.png](/img/user/Images/Pasted%20image%2020250217132655.png)

Создаём файлы ***file2 file3 file4*** в директории ***dir1***, проверяем права rwx от лица ***user1***
![Pasted image 20250217133303.png](/img/user/Images/Pasted%20image%2020250217133303.png)

Заходим в ***dir1***, проверяем права на чтение файлов. Выдаём права на чтение и запись в директории пользователям вне группы ***double***, отбираем у пользователей в группе ***double***.
![Pasted image 20250217134044.png](/img/user/Images/Pasted%20image%2020250217134044.png)

Те же действия проводим в самой директории ***dir1*** с файлами по отдельности. Проверяем права rwx от лица ***user1***
![Pasted image 20250217134241.png](/img/user/Images/Pasted%20image%2020250217134241.png)

Пишем маленький скриптик на питоне, который выводит hello w
![Pasted image 20250217141111.png](/img/user/Images/Pasted%20image%2020250217141111.png)

Смотрим на наполнение *.sh* файла и запускаем скрипт без вызова интерпретатора
![Pasted image 20250224122833.png](/img/user/Pasted%20image%2020250224122833.png)

Скрипт запускается, так как файл new_file.sh использует оболочку sh для запуска команды python3, которая пропускает через себя файл python1.py
### 3. Специальные разрешения
О команде chmod 4762 (согласно источнику https://chmodcommand.com/chmod-4762/)
Для файлов -- после изменения режима файла на 4762 режим файла будет отображаться в списке файлов в стиле Unix как: -rwsrw--w-.
Для папок -- после изменения режима каталога на 4762 режим папки будет отображаться в списке файлов в стиле Unix как: drwsrw--w-.

Заходим под ***user1*** в директорию ***dir1***, создаём 2 скрипта
![Pasted image 20250224124113.png](/img/user/Pasted%20image%2020250224124113.png)

Рекурсивно устанавливаем UID, GID и Sticky Bit
![Pasted image 20250224131306.png](/img/user/Pasted%20image%2020250224131306.png)

Используем chmod -R -x на всю домашнюю директорию
![Pasted image 20250224132126.png](/img/user/Pasted%20image%2020250224132126.png)


Даём права пользователям вне группы читать и изменять ***dir1ir1***
![Pasted image 20250224131624.png](/img/user/Pasted%20image%2020250224131624.png)

Изменить пользователя на 3-го от имени ***user1*** не вышло, делал от ***root***
![Pasted image 20250224131815.png](/img/user/Pasted%20image%2020250224131815.png)

После долгих копаний создал от лица ***user2*** папку ***user2_share***
![Pasted image 20250224142112.png](/img/user/Pasted%20image%2020250224142112.png)

Даём возможность пользователям группы ***user2*** и другим ***user3*** читать и записывать в папку файлы, но сами файлы только читать
![Pasted image 20250224143608.png](/img/user/Pasted%20image%2020250224143608.png)

![Pasted image 20250224150701.png](/img/user/Pasted%20image%2020250224150701.png)